<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">
    <title>Game2</title>  
</head>
<style>
body {
    background-image: url("{{ url_for('static', filename='9-11bg.jpg') }}");
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
  background-attachment: fixed;
    font-family: 'Poppins', sans-serif;
}

        #videoElement {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 320px; /* Update width and height as needed */
            height: 240px;
            object-fit: cover;
        }
form {
    background-color: #F8F8FF; /* light blue */
    border: 2px solid #FFDAB9; /* peach */
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    max-width: 600px;
    margin: 0 auto;
}

.question {
    margin-bottom: 20px;
}

#question1, #question2, #question3, #question4, #question5, #question6, #question7,#question8,#question9,#question10 {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 10px;
}

.content {
    cursor: pointer;
    padding: 10px;
    border-radius: 5px;
    background-color: #FFC0CB; /* pink */
}

input[type="radio"] {
    margin-right: 5px;
}

button[type="submit"] {
    background-color: #FFA07A; /* salmon */
    border: none;
    color: #fff;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
}

button[type="submit"]:hover {
    background-color: #FF7F50; /* coral */
}
</style>
<body>
    <h2>This test is for visual discrimination</h2>
                <video id="videoElement" autoplay></video>
<form>
    <div class="question">
        <span id="question1">
            Question 1
        </span><br><br>
        <div class="content" onclick="q1score()">
            Identify the right castle?<br><br>
            <img src="{{ url_for('static', filename='castle.png') }}" width=400 height=400><br>
            <input type="radio" id="q1a" name="q1" value="0">
            <label for="q1a">(a)</label><br>
            <input type="radio" id="q1b" name="q1" value="0">
            <label for="q1b">(b)</label><br>
            <input type="radio" id="q1c" name="q1" value="0">
            <label for="q1c">(c)</label><br>
            <input type="radio" id="q1d" name="q1" value="0">
            <label for="q1d">(d)</label><br>
            <input type="radio" id="q1e" name="q1" value="0">
            <label for="q1e">(e)</label><br>
            <input type="radio" id="q1f" name="q1" value="0">
            <label for="q1f">(f)</label><br>
            <input type="radio" id="q1g" name="q1" value="4">
            <label for="q1g">(g)</label><br>
            <input type="radio" id="q1h" name="q1" value="0">
            <label for="q1h">(h)</label><br>
        </div>
        <span id="question2">
            Question 2
        </span><br><br>
        <div class="content" onclick="q2score()">
            Find out the shape that is not rotated form of the first shape in the left?<br><br>
            <img src="{{ url_for('static', filename='pm.png') }}" width=550 height=250><br>
            <input type="radio" id="q2a" name="q2" value="4">
            <label for="q2a">A</label><br>
            <input type="radio" id="q2b" name="q2" value="0">
            <label for="q2b">B</label><br>
            <input type="radio" id="q2c" name="q2" value="0">
            <label for="q2c">C</label><br>
            <input type="radio" id="q2d" name="q2" value="4">
            <label for="q2d">D</label><br>
        </div>
        <span id="question3">
            Question 3
        </span><br><br>
        <div class="content" onclick="q3score()">
            Which letter would be the same as the example if you completed the missing part?<br><br>
            <img src="{{ url_for('static', filename='miss.png') }}" width=550 height=300><br>
            <input type="radio" id="q3a" name="q3" value="0">
            <label for="q3a">(a)</label><br>
            <input type="radio" id="q3b" name="q3" value="0">
            <label for="q3b">(b)</label><br>
            <input type="radio" id="q3c" name="q3" value="4">
            <label for="q3c">(c)</label><br>
        </div>
        <span id="question4">
            Question 4
        </span><br><br>
        <div class="content" onclick="q4score()">
            Which word would be the same as the example if you completed the missing part?<br><br>
            <img src="{{ url_for('static', filename='complete.png') }}" width=400 height=400><br>
            <input type="radio" id="q4a" name="q4" value="0">
            <label for="q4a">(a)</label><br>
            <input type="radio" id="q4b" name="q4" value="4">
            <label for="q4b">(b)</label><br>
            <input type="radio" id="q4c" name="q4" value="0">
            <label for="q4c">(c)</label><br>
            <input type="radio" id="q4d" name="q4" value="0">
            <label for="q4d">(d)</label><br>
        </div>
                <span id="question5">
                    Question 5
                </span><br><br>
                <div class="content" onclick="q5score()">
                    Identify number of d's?<br><br>
                    <img src="{{ url_for('static', filename='bd11.png') }}" width=400 height=400><br>
                    <input type="radio" id="q5a" name="q5" value="0">
                    <label for="q5a">24</label><br>
                    <input type="radio" id="q5b" name="q5" value="4">
                    <label for="q5b">20</label><br>
                    <input type="radio" id="q5c" name="q5" value="0">
                    <label for="q5c">18</label><br>
                    <input type="radio" id="q5d" name="q5" value="0">
                    <label for="q5d">30</label><br>
                </div>
                <span id="question6">
                    Question 6
                </span><br><br>
                <div class="content" onclick="q6score()">
                    Fill the correct answer<br><br>
                    <img src="{{ url_for('static', filename='zebra.png') }}" width=300 height=300><br>
                    <input type="radio" id="q6a" name="q6" value="0">
                    <label for="q6a">zibra</label><br>
                    <input type="radio" id="q6b" name="q6" value="4">
                    <label for="q6b">zebra</label><br>
                </div>
                <span id="question7">
                    Question 7
                </span><br><br>
                <div class="content" onclick="q7score()">
                    Enter the correct animal name?<br><br>
                    <img src="{{ url_for('static', filename='cow.png') }}" width=300 height=300><br>
                    <input type="radio" id="q7a" name="q7" value="4">
                    <label for="q7a">cow</label><br>
                    <input type="radio" id="q7b" name="q7" value="0">
                    <label for="q7b">goat</label><br>
                </div>
                <span id="question8">
                    Question 8
                </span><br><br>
                <div class="content" onclick="q8score()">
                    Why is the firefighter using the hose?<br><br>
                    <img src="{{ url_for('static', filename='fire.png') }}" width=300 height=300><br>
                    <input type="radio" id="q8a" name="q8" value="0">
                    <label for="q8a">Watering the flowers</label><br>
                    <input type="radio" id="q8b" name="q8" value="4">
                    <label for="q8b">There is a fire</label><br>
                    <input type="radio" id="q8c" name="q8" value="4">
                    <label for="q8c">They are thirsty</label><br>
                </div>
                <span id="question9">
                    Question 9
                </span><br><br>
                <div class="content" onclick="q9score()">
                    What is the mirror image of b?<br><br>
                    <input type="radio" id="q9a" name="q9" value="4">
                    <label for="q9a">d</label><br>
                    <input type="radio" id="q9b" name="q9" value="0">
                    <label for="q9b">p</label><br>
                </div>
                <span id="question10">
                    Question 10
                </span><br><br>
                <div class="content" onclick="q10score()">
                    Can you identify which letter does not belong to the word "plaque"?<br><br>
                    <input type="radio" id="q10a" name="q10" value="0">
                    <label for="q10a">q</label><br>
                    <input type="radio" id="q10b" name="q10" value="4">
                    <label for="q10b">g</label><br>
                </div>
        <button type="submit" id="button" onclick="submitscore(event)">SUBMIT</button>
    </div>
    </form>
<script>
console.log("Welcome to the Quiz!")
let lang_vocab=0, memory=0, visual=0, audio=0;
let start = Date.now(), end, diff, speed_score;
let ans=[], arr=[];
for(let i=1; i<10; i++)
    ans[i]=0;

function q1score() {
if (document.getElementById('q1a').checked)
    ans[1] = document.getElementById('q1a').value;
    
else if (document.getElementById('q1b').checked)
    ans[1] = document.getElementById('q1b').value;
else if (document.getElementById('q1c').checked)
    ans[1] = document.getElementById('q1c').value;
else if (document.getElementById('q1d').checked)
    ans[1] = document.getElementById('q1d').value;
else if (document.getElementById('q1e').checked)
    ans[1] = document.getElementById('q1e').value;
else if (document.getElementById('q1f').checked)
    ans[1] = document.getElementById('q1f').value;
else if (document.getElementById('q1g').checked)
    ans[1] = document.getElementById('q1g').value;
else if (document.getElementById('q1h').checked)
    ans[1] = document.getElementById('q1h').value;

}

function q2score() {
if (document.getElementById('q2a').checked)
    ans[2] = document.getElementById('q2a').value;

else if (document.getElementById('q2b').checked)
    ans[2] = document.getElementById('q2b').value;
    
else if (document.getElementById('q2c').checked)
    ans[2] = document.getElementById('q2c').value;
    
else if (document.getElementById('q2d').checked)
    ans[2] = document.getElementById('q2d').value;
}  

function q3score() {
    if (document.getElementById('q3a').checked)
        ans[3] = document.getElementById('q3a').value;

    else if (document.getElementById('q3b').checked)
        ans[3] = document.getElementById('q3b').value;

    else if (document.getElementById('q3c').checked)
        ans[3] = document.getElementById('q3c').value;
}
  


function q4score() {
if (document.getElementById('q4a').checked)
ans[4] = document.getElementById('q4a').value;

else if (document.getElementById('q4b').checked)
ans[4] = document.getElementById('q4b').value;

else if (document.getElementById('q4c').checked)
ans[4] = document.getElementById('q4c').value;

else if (document.getElementById('q4d').checked)
ans[4] = document.getElementById('q4d').value;
} 

function q5score() {
    if (document.getElementById('q5a').checked)
        ans[5] = document.getElementById('q5a').value;
        
    else if (document.getElementById('q5b').checked)
        ans[5] = document.getElementById('q5b').value;
    else if (document.getElementById('q5c').checked)
        ans[5] = document.getElementById('q5c').value;
    else if (document.getElementById('q5d').checked)
        ans[5] = document.getElementById('q5d').value;
}

function q6score() {
    if (document.getElementById('q6a').checked)
        ans[6] = document.getElementById('q6a').value;
        
    else if (document.getElementById('q6b').checked)
        ans[6] = document.getElementById('q6b').value;
    else if (document.getElementById('q6c').checked)
        ans[6] = document.getElementById('q6c').value;
}

function q7score() {
    if (document.getElementById('q7a').checked)
        ans[7] = document.getElementById('q7a').value;
        
    else if (document.getElementById('q7b').checked)
        ans[7] = document.getElementById('q7b').value;
    else if (document.getElementById('q7c').checked)
        ans[7] = document.getElementById('q7c').value;
}

function q8score() {
    if (document.getElementById('q8a').checked)
        ans[8] = document.getElementById('q8a').value;
        
    else if (document.getElementById('q8b').checked)
        ans[8] = document.getElementById('q8b').value;
    else if (document.getElementById('q8c').checked)
        ans[8] = document.getElementById('q8c').value;
}

function q9score() {
    if (document.getElementById('q9a').checked)
        ans[9] = document.getElementById('q9a').value;
        
    else if (document.getElementById('q9b').checked)
        ans[9] = document.getElementById('q9b').value;
}

function q10score() {
    if (document.getElementById('q10a').checked)
        ans[10] = document.getElementById('q10a').value;
        
    else if (document.getElementById('q10b').checked)
        ans[10] = document.getElementById('q10b').value;
    else if (document.getElementById('q10c').checked)
        ans[10] = document.getElementById('q10c').value;
}
const video = document.getElementById('videoElement');

        // Access the user's webcam
        navigator.mediaDevices.getUserMedia({ video: true })
            .then(stream => {
                // Set the video source to the user's webcam stream
                video.srcObject = stream;
            })
            .catch(error => {
                console.error('Error accessing webcam:', error);
            });

function submitscore(event) {
    let lang_vocab=0, memory=0, visual=0, audio=0;
    event.preventDefault();
    diff=0;
    speed_score=0;
    end = Date.now();
    console.log("end: " + end);
    diff =(end - start)/1000;
    console.log("difference: "+diff);
    
    if(diff>25 && diff<=60)
        speed_score=1;
    else if(diff>60 && diff<=75)
        speed_score=0.9;
    else if(diff>75 && diff<=90)
        speed_score=0.8;
    else if(diff>90 && diff<=110)
        speed_score=0.7;
    else if(diff>110 && diff<=120)
        speed_score=0.6;
    else if(diff>120 && diff<=130)
        speed_score=0.5;
    else if(diff>130 && diff<=140)
        speed_score=0.4;
    else if(diff>140 && diff<=150)
        speed_score=0.3;
    else if(diff>150 && diff<=160)
        speed_score=0.2;
    else if(diff>160 && diff<=170)
        speed_score=0.1;
    
    for(let i=1; i<11; i++)
    {
        arr[i] = Number(ans[i] || 0);
    }
    visual = (arr[1]+arr[2]+arr[3]+arr[4]+arr[5]+arr[6]+arr[7]+arr[8]+arr[9]+arr[10])/40;
    console.log("v ",visual);
    const g2_score = { speed_score, visual };
    console.log("g ",g2_score);
    localStorage.setItem('g2_score', JSON.stringify(g2_score));
    alert(`Speed Score = ${speed_score}\n Memory Score = ${visual}`);
    window.location.href="{{ url_for('g3_911') }}";
}     

</script>
</body>
</html>